#
# Coverity Travis CI configuration file for PAPPL.
#

language: c
compiler: [gcc]

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "cJB4PLJiwRA3YNswq5W5/UB27FSvPzogrMMUEUmkCdliWwZTsATjIEnQHjV4BlgoBXcUEMCYuW6tCedWXUGQqobDQIZ0JygMo2favrQcktTaNhbtVvkvIiGQueo6Z5qNbIhw9z0Elat+M5t9vWx5rB/VsgwkatLz1ar6WrQosEb9TkjsbXY9gnQ5ZcVDL9/HACtLNoiacbMkBQd0pGH2Wk32/f6kaSqjiDLmhCI/OnNmw0WQiDr1ebxnLdPeVEs2am2d/HewbgGCn28lBxjyo8Sy+GLT/htoH2u4xAehFHizOqXFtLzz4kECn17vg1+GFeQayp4y/nS8DJxlebEz4EEcT51CGsyVO7+iivLU1p2pK52b1gfFfFYf2/u0Et3difxWjk3o9rDfMWg15hm3+inyyN/eLD0i3mUWZDz+TEm6NcIMEMLDQvX9kK0mnrHnaBLJy61mxGj5J18TpevhhqcGV6dwfn76VqxeLT/HJeZzIn1N4ZE9xbEFK6/uvx093kAfcjUXDArBuFvGC2H6C8w06fb+ZvueOt7/WRr8Xm2USDrayccNJ8NiYHrhtbfKoEvyNq+d12tJIJPn4guT+TuL6ypEe1OInQ6LmsL9y6OKYMr7+uGrmxzCfdom7+LlEfVMfAM8U+pkWFilQ6UyGZYXIgsJPjB98LUDUSaiwg4="

before_install:
  - echo -n | openssl s_client -connect https://scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "michaelrsweet/pappl"
      description: "Printer Application Framework"
      version: "1.1b1"
    notification_email: michael.r.sweet@gmail.com
    build_command_prepend: "./configure --enable-debug"
    build_command: "make"
    branch_pattern: coverity_scan

